<?php
namespace Database\Seeders;

use Carbon\Carbon;
use App\Models\Union;
use App\Models\Upazila;
use Illuminate\Database\Seeder;

class UnionSeeder extends Seeder
{
    public function run()
    {
        $data = [

            // ১. পটুয়াখালী সদর
            'পটুয়াখালী সদর' => [
                'আউলিয়াপুর',
                'ইটবাড়ীয়া',
                'কমলাপুর',
                'কালিকাপুর',
                'ছোট বিঘাই',
                'জৈনকাঠী',
                'বড় বিঘাই',
                'বদরপুর',
                'ভুরিয়া',
                'মরিচবুনিয়া',
                'মাদারবুনিয়া',
                'লাউকাঠি',
                'লোহালিয়া',
            ],

            // ২. বাউফল
            'বাউফল'         => [
                'আদাবাড়িয়া',
                'কনকদিয়া',
                'কাছিপাড়া',
                'কালাইয়া',
                'কালিশুরী',
                'কেশবপুর',
                'চন্দ্রদ্বীপ',
                'দাসপাড়া',
                'ধূলিয়া',
                'নওমালা',
                'নাজিরপুর',
                'বগা',
                'বাউফল',
                'মদনপুরা',
                'সূর্যমনি',
            ],

            // ৩. গলাচিপা
            'গলাচিপা'       => [
                'আমখোলা',
                'কলাগাছিয়া',
                'গজালিয়া',
                'গলাচিপা',
                'গোলখালী',
                'চর বিশ্বাস',
                'চর কাজল',
                'পানপট্টি',
                'চিকনিকান্দি',
                'ডাকুয়া',
                'বকুলবাড়িয়া',
                'রতনদী তালতলী',
            ],

            // ৪. দশমিনা
            'দশমিনা'        => [
                'আলীপুরা',
                'চর বোরহান',
                'দশমিনা',
                'বহরমপুর',
                'বাঁশবাড়িয়া',
                'বেতাগী সানকিপুর',
                'রণগোপালদী',
            ],

            // ৫. কলাপাড়া
            'কলাপাড়া'       => [
                'খাপড়াভাঙ্গা',
                'চম্পাপুর',
                'চাকামইয়া',
                'টিয়াখালী',
                'ডালবুগঞ্জ',
                'ধানখালী',
                'ধূলাসার',
                'নীলগঞ্জ',
                'বালিয়াতলী',
                'মিঠাগঞ্জ',
                'লতাচাপলী',
                'লালুয়া',
            ],

            // ৬. মির্জাগঞ্জ
            'মির্জাগঞ্জ'    => [
                'আমড়াগাছিয়া',
                'কাকড়াবুনিয়া',
                'দেউলী সুবিদখালী',
                'মজিদবাড়ীয়া',
                'মাধবখালী',
                'মির্জাগঞ্জ',
            ],

            // ৭. দুমকী
            'দুমকী'         => [
                'আংগারিয়া',
                'পাংগাশিয়া',
                'মুরাদিয়া',
                'লেবুখালী',
                'শ্রীরামপুর',
            ],

            // ৮. রাঙ্গাবালি
            'রাঙ্গাবালি'    => [
                'চর মোন্তাজ',
                'চালিতাবুনিয়া',
                'ছোট বাইশদিয়া',
                'বড় বাইশদিয়া',
                'রাঙ্গাবালি',
            ],
        ];

        foreach ($data as $upazilaName => $unions) {

            $upazila = Upazila::where('name', $upazilaName)->first();

            if (! $upazila) {
                $this->command->warn("Upazila not found: {$upazilaName}");
                continue;
            }

            foreach ($unions as $unionName) {
                Union::updateOrCreate(
                    [
                        'name'       => $unionName,
                        'upazila_id' => $upazila->id,
                    ],
                    []
                );
            }
        }

        $this->command->info('All Patuakhali unions seeded successfully (verified & sorted).');
    }
}
